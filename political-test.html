<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>정치 성향 테스트</title>
    <!-- Kakao SDK (공유 기능용) -->
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script>
        // Kakao.init('YOUR_KAKAO_APP_KEY'); // 실제 Kakao 앱 키로 교체 (개발자 콘솔 발급). 로컬 테스트 시 주석 처리 가능
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Malgun Gothic', Arial, sans-serif; background: linear-gradient(135deg, #f56565 0%, #4299e1 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; color: #333; }
        .container { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); width: 100%; max-width: 500px; text-align: center; }
        h1 { color: #4a5568; margin-bottom: 1rem; }
        p { color: #718096; margin-bottom: 2rem; }
        .question { display: none; margin-bottom: 2rem; }
        .question.active { display: block; }
        .question-text { font-size: 1.2rem; margin-bottom: 1rem; }
        .options { display: flex; flex-direction: column; gap: 0.5rem; }
        .option { padding: 0.75rem; background: #edf2f7; border-radius: 8px; cursor: pointer; transition: background 0.3s; }
        .option:hover { background: #e2e8f0; }
        .option.selected { background: #4299e1; color: white; }
        .btn { padding: 1rem; background: #4299e1; color: white; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; transition: background 0.3s; width: 100%; }
        .btn:hover { background: #3182ce; }
        .btn:disabled { background: #a0aec0; cursor: not-allowed; }
        #result { display: none; margin-top: 2rem; padding: 1rem; border-radius: 8px; }
        #progress { margin-bottom: 1rem; font-size: 0.9rem; color: #718096; }
        
        /* 카드 스타일 */
        .card { background: #f9fafb; border-radius: 10px; padding: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 1rem 0; }
        .card-header { font-size: 2rem; font-weight: bold; color: #000; margin-bottom: 0.5rem; }
        .card-img { width: 150px; height: auto; border-radius: 50%; margin: 1rem auto; display: block; }
        .card-title { font-size: 1.5rem; color: #333; margin: 0.5rem 0; }
        .card-subtitle { font-size: 1rem; color: #666; margin-bottom: 1rem; }
        .card-hashtag { font-weight: bold; color: #4299e1; margin: 0.5rem 0; }
        .card-bullets { text-align: left; margin: 1rem 0; list-style-type: disc; padding-left: 20px; }
        .card-note { font-style: italic; color: #888; margin: 0.5rem 0; }
        .card-footer { font-weight: bold; color: #333; border: 1px solid #ddd; border-radius: 5px; padding: 0.5rem; display: inline-block; }
        .share-buttons { display: flex; gap: 1rem; justify-content: center; margin-top: 1rem; flex-wrap: wrap; }
        .share-btn { padding: 0.5rem 1rem; background: #4299e1; color: white; border-radius: 5px; text-decoration: none; cursor: pointer; }
        .share-btn:hover { background: #3182ce; }
        
        @media (max-width: 480px) { .container { padding: 1.5rem; margin: 1rem; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>🗳️ 정치 성향 테스트</h1>
        <p>15개 질문을 하나씩 답해주세요. 솔직하게!</p>
        <div id="progress"></div>
        
        <!-- 질문 목록 -->
        <div class="question active" id="q1">
            <div class="question-text">1. 정부가 빈부격차를 줄이기 위해 세금을 더 걷어야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q2">
            <div class="question-text">2. 시장 경제는 정부 규제 없이 자유롭게 운영되어야 한다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q3">
            <div class="question-text">3. 공공 의료 시스템을 확대해야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q4">
            <div class="question-text">4. 개인의 성공은 노력과 능력에 달려 있으며, 정부 지원은 최소화해야 한다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q5">
            <div class="question-text">5. 환경 보호를 위해 기업 활동을 강력히 규제해야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q6">
            <div class="question-text">6. 동성 결혼은 사회적으로 수용되어야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q7">
            <div class="question-text">7. 전통적인 가족 가치가 사회 안정을 위해 중요하다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q8">
            <div class="question-text">8. 이민 정책을 완화하여 다양성을 촉진해야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q9">
            <div class="question-text">9. 국방 예산을 늘려 군사력을 강화해야 한다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q10">
            <div class="question-text">10. 교육은 평등을 위해 공공 자원으로 제공되어야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q11">
            <div class="question-text">11. 총기 소지를 엄격히 규제해야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q12">
            <div class="question-text">12. 자유 무역 협정을 확대해야 경제가 성장한다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q13">
            <div class="question-text">13. 기후 변화 대응을 위해 국제 협력이 필수다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q14">
            <div class="question-text">14. 낙태는 개인의 선택권으로 보호되어야 한다.</div>
            <div class="options">
                <div class="option" data-score="1">강하게 동의</div>
                <div class="option" data-score="2">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="4">반대</div>
                <div class="option" data-score="5">강하게 반대</div>
            </div>
        </div>
        <div class="question" id="q15">
            <div class="question-text">15. 국가 안보를 위해 감시 시스템을 강화해야 한다.</div>
            <div class="options">
                <div class="option" data-score="5">강하게 동의</div>
                <div class="option" data-score="4">동의</div>
                <div class="option" data-score="3">중립</div>
                <div class="option" data-score="2">반대</div>
                <div class="option" data-score="1">강하게 반대</div>
            </div>
        </div>

        <button class="btn" id="nextBtn" disabled>다음</button>
        <div id="result"></div>
    </div>

    <script>
        let currentQuestion = 1;
        const totalQuestions = 15;
        let scores = new Array(totalQuestions).fill(0);

        function updateProgress() {
            document.getElementById('progress').innerText = `질문 ${currentQuestion} / ${totalQuestions}`;
        }

        function selectOption(questionId, option) {
            const options = document.querySelectorAll(`#q${questionId} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            option.classList.add('selected');
            scores[questionId - 1] = parseInt(option.dataset.score);
            document.getElementById('nextBtn').disabled = false;
            console.log(`Question ${questionId} selected: ${scores[questionId - 1]}`); // 디버깅
        }

        document.querySelectorAll('.options').forEach(options => {
            options.addEventListener('click', (e) => {
                if (e.target.classList.contains('option')) {
                    selectOption(currentQuestion, e.target);
                }
            });
        });

        document.getElementById('nextBtn').addEventListener('click', () => {
            console.log(`Current score for Q${currentQuestion}: ${scores[currentQuestion - 1]}`); // 디버깅
            if (scores[currentQuestion - 1] === 0) {
                alert('답변을 선택해 주세요!');
                return;
            }

            document.getElementById(`q${currentQuestion}`).classList.remove('active');
            currentQuestion++;

            if (currentQuestion <= totalQuestions) {
                document.getElementById(`q${currentQuestion}`).classList.add('active');
                document.getElementById('nextBtn').disabled = true;
                updateProgress();
            } else {
                showResult();
            }
        });

        function showResult() {
            const totalScore = scores.reduce((a, b) => a + b, 0);
            let resultText = '';
            let resultColor = '';
            let detailedDescription = '';
            let examplePerson = '';
            let personImg = '';
            let personDesc = '';
            let hashtag = '';
            let bullets = '';
            let note = '';
            let alignmentName = '';

            if (totalScore <= 45) {
                resultText = '좌파 성향';
                resultColor = '#f56565';
                alignmentName = '혁신적 평등주의자';
                examplePerson = 'Karl Marx';
                personImg = 'https://upload.wikimedia.org/wikipedia/commons/d/d4/Karl_Marx_001.jpg'; // 수정된 URL
                personDesc = '당신의 우상: Karl Marx (공산주의 선언 저자)';
                hashtag = '#좌파';
                bullets = `
                    <li>전통적 가치를 중시하면서도 사회적, 경제적, 정치적, 전략적 변화의 필요성을 인정함.</li>
                    <li>안정적인 사회와 국가 내외에서 전략적인 혁신을 추구함.</li>
                `;
                note = '*사람은 일의로 매향된 정치인입니다.';
                detailedDescription = `
                    <h3>좌파 성향 특징:</h3>
                    <p>- <strong>가치:</strong> 사회적 평등, 정부 개입, 복지 확대.</p>
                    <p>- <strong>예시 정책:</strong> 무료 의료, 교육 평등화, 부유세 강화.</p>
                    <p>- <strong>성격 맥락:</strong> 공동체를 중시하고, 불평등 해소를 위해 적극적인 변화를 지지할 가능성이 높음.</p>
                `;
            } else if (totalScore <= 60) {
                resultText = '중도 성향';
                resultColor = '#faf089';
                alignmentName = '균형적 실용주의자';
                examplePerson = 'John F. Kennedy';
                personImg = 'https://upload.wikimedia.org/wikipedia/commons/c/c3/John_F._Kennedy%2C_White_House_color_photo_portrait.jpg';
                personDesc = '당신의 우상: John F. Kennedy (미국 대통령, 냉전 시대 균형 외교)';
                hashtag = '#중도';
                bullets = `
                    <li>좌우 극단을 피하며 현실적 해결책을 추구함.</li>
                    <li>사회 안정과 점진적 개혁을 지지함.</li>
                `;
                note = '*사람은 일의로 매향된 정치인입니다.';
                detailedDescription = `
                    <h3>중도 성향 특징:</h3>
                    <p>- <strong>가치:</strong> 좌우 양측의 균형 잡힌 관점, 현실적 타협.</p>
                    <p>- <strong>예시 정책:</strong> 점진적 복지 개선, 제한된 시장 규제.</p>
                    <p>- <strong>성격 맥락:</strong> 급진적인 변화보다는 안정과 실용성을 선호할 수 있음.</p>
                `;
            } else {
                resultText = '우파 성향';
                resultColor = '#4299e1';
                alignmentName = '전통적 자유수호자';
                examplePerson = 'Ronald Reagan';
                personImg = 'https://upload.wikimedia.org/wikipedia/commons/1/16/Official_Portrait_of_President_Reagan_1981.jpg';
                personDesc = '당신의 우상: Ronald Reagan (미국 대통령, 자유 시장 주창)';
                hashtag = '#우파';
                bullets = `
                    <li>전통 가치와 개인 자유를 최우선으로 함.</li>
                    <li>경제 성장과 강한 국방을 통해 안정을 추구함.</li>
                `;
                note = '*사람은 일의로 매향된 정치인입니다.';
                detailedDescription = `
                    <h3>우파 성향 특징:</h3>
                    <p>- <strong>가치:</strong> 개인 자유, 시장 경제, 전통 보존.</p>
                    <p>- <strong>예시 정책:</strong> 감세, 기업 규제 완화, 강한 국방.</p>
                    <p>- <strong>성격 맥락:</strong> 개인 책임과 경쟁을 중시하며, 전통적 가치를 지지할 가능성이 높음.</p>
                `;
            }

            const resultDiv = document.getElementById('result');
            const shareText = `내 정치 성향은 ${resultText} (${totalScore}/75점)! 당신도 테스트 해보세요!`;
            const shareUrl = window.location.href;

            resultDiv.innerHTML = `
                <h2>당신의 정치 성향: ${resultText}</h2>
                <p>총 점수: ${totalScore} / 75</p>
                <div class="card">
                    <div class="card-header">${resultText.toUpperCase().replace('성향', '')}</div>
                    <img src="${personImg}" alt="${examplePerson}" class="card-img">
                    <div class="card-title">${alignmentName}</div>
                    <div class="card-subtitle">${personDesc}</div>
                    <div class="card-hashtag">${hashtag}</div>
                    <ul class="card-bullets">${bullets}</ul>
                    <div class="card-note">${note}</div>
                    <div class="card-footer">8values 정치성향</div>
                </div>
                ${detailedDescription}
                <p>이 테스트는 참고용입니다. 실제 정치 성향은 더 복잡할 수 있어요!</p>
                <div class="share-buttons">
                    <button class="share-btn" onclick="shareKakao('${shareText}', '${shareUrl}')">카카오톡 공유</button>
                    <a class="share-btn" href="https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(shareUrl)}" target="_blank">X 공유</a>
                    <a class="share-btn" href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}" target="_blank">Facebook 공유</a>
                    <button class="share-btn" onclick="shareGeneral('${shareText}', '${shareUrl}')">기타 SNS 공유</button>
                </div>
            `;
            resultDiv.style.background = resultColor;
            resultDiv.style.display = 'block';
            document.getElementById('nextBtn').style.display = 'none';
            document.querySelectorAll('.question').forEach(q => q.style.display = 'none');
        }

        // 공유 함수
        function shareKakao(title, url) {
            if (typeof Kakao !== 'undefined' && Kakao.isInitialized()) {
                Kakao.Link.sendDefault({
                    objectType: 'feed',
                    content: {
                        title: title,
                        description: '정치 성향 테스트 결과 공유!',
                        imageUrl: 'https://example.com/image.jpg', // 너의 이미지 URL로 교체
                        link: {
                            mobileWebUrl: url,
                            webUrl: url
                        }
                    }
                });
            } else {
                alert('Kakao SDK가 로드되지 않았거나 키가 없습니다. 기본 공유를 사용하세요.');
            }
        }

        function shareGeneral(title, url) {
            if (navigator.share) {
                navigator.share({
                    title: title,
                    text: title,
                    url: url
                }).then(() => console.log('공유 성공!'))
                  .catch((error) => console.log('공유 실패', error));
            } else {
                alert('이 브라우저는 공유 기능을 지원하지 않습니다.');
            }
        }

        updateProgress();
    </script>
</body>
</html>